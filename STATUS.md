# –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø–ª–∞–≥–∏–Ω–∞ ASP Classic Language Support

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π —Å–∫–µ–ª–µ—Ç –ø–ª–∞–≥–∏–Ω–∞
- ‚úÖ –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫ HTML –ø–∞—Ä—Å–µ—Ä—É IntelliJ IDEA
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞ –¥–ª—è .asp –∏ .asa
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HTML –ª–µ–∫—Å–µ—Ä–∞ –∏ –ø–∞—Ä—Å–µ—Ä–∞ –Ω–∞–ø—Ä—è–º—É—é

### –ö–æ–¥
**–í—Å–µ–≥–æ 4 Kotlin —Ñ–∞–π–ª–∞:**
```
src/main/kotlin/com/dmitry/aspclassic/
‚îú‚îÄ‚îÄ AspLanguage.kt           (369 bytes) - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞
‚îú‚îÄ‚îÄ AspFileType.kt           (532 bytes) - –¢–∏–ø —Ñ–∞–π–ª–∞
‚îú‚îÄ‚îÄ AspIcons.kt              (256 bytes) - –ò–∫–æ–Ω–∫–∞
‚îú‚îÄ‚îÄ AspParserDefinition.kt   (1.6 KB)    - –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫ HTML
‚îî‚îÄ‚îÄ psi/AspFile.kt           (513 bytes) - PSI —Ñ–∞–π–ª
```

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å HTML
–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å—ë, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è HTML —Ñ–∞–π–ª–æ–≤:
- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ HTML
- –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ–≥–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è HTML
- –ù–∞–≤–∏–≥–∞—Ü–∏—è
- Code folding
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## ‚ö†Ô∏è –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∞–µ—Ç: **"—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ –≤—Å–µ"**

**–¢—Ä–µ–±—É–µ—Ç—Å—è —É—Ç–æ—á–Ω–µ–Ω–∏–µ:**
1. –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?
2. –ï—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö IDE?
3. –†–∞—Å–ø–æ–∑–Ω–∞—ë—Ç—Å—è –ª–∏ .asp —Ñ–∞–π–ª –∫–∞–∫ ASP —Ç–∏–ø?

## üîç –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –§–∞–π–ª –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç—Å—è –∫–∞–∫ ASP
**–°–∏–º–ø—Ç–æ–º—ã:** 
- –ù–µ—Ç –∏–∫–æ–Ω–∫–∏ ASP
- –í–Ω–∏–∑—É —Å–ø—Ä–∞–≤–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "ASP"

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–ª–∞–≥–∏–Ω —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Settings ‚Üí Plugins
- –ü–µ—Ä–µ–æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å IDE

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ—Ç –ø–æ–¥—Å–≤–µ—Ç–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
**–°–∏–º–ø—Ç–æ–º—ã:**
- HTML —Ç–µ–≥–∏ –Ω–µ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—é—Ç—Å—è
- –í–µ—Å—å —Ç–µ–∫—Å—Ç –æ–¥–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ü–∞—Ä—Å–µ—Ä –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –Ω–∞ HTML –º–æ–¥—É–ª—å

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
```xml
<!-- –≤ plugin.xml -->
<depends>com.intellij.modules.xml</depends>  <!-- –≠—Ç–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å -->
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ù–µ—Ç –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è
**–°–∏–º–ø—Ç–æ–º—ã:**
- Ctrl+Space –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç HTML —Ç–µ–≥–∏
- –ù–µ—Ç –ø–æ–¥—Å–∫–∞–∑–æ–∫ –∞—Ç—Ä–∏–±—É—Ç–æ–≤

**–í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:**
- HTML completion contributor –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –¥–ª—è ASP —è–∑—ã–∫–∞

**–í–æ–∑–º–æ–∂–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
–ú–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —è–≤–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å ASP –∫–∞–∫ HTML-–ø–æ–¥–æ–±–Ω—ã–π —è–∑—ã–∫.

### –ü—Ä–æ–±–ª–µ–º–∞ 4: PSI —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ —Ç–∞
**–°–∏–º–ø—Ç–æ–º—ã:**
- Structure View –ø—É—Å—Ç–æ–π
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:**
- AspFile –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π FileViewProvider
- –ù—É–∂–µ–Ω TemplateLanguageFileViewProvider

## üîß –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–ª–∞–≥–∏–Ω:**
   ```bash
   ./gradlew runIde
   ```

2. **–û—Ç–∫—Ä—ã—Ç—å test-example.asp**

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ —á–µ–∫–ª–∏—Å—Ç—É:** –°–º. CHECK_WHAT_WORKS.md

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:**
   ```bash
   tail -f build/idea-sandbox/PS-2024.3.1.1/log/idea.log
   ```

5. **–°–æ–æ–±—â–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ, —á—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**

## üìù –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã (–µ—Å–ª–∏ —Ç–µ–∫—É—â–∏–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

### –ü–æ–¥—Ö–æ–¥ 1: Template Language (–±–æ–ª–µ–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–ª—è ASP)
```kotlin
class AspFileViewProvider : TemplateLanguageFileViewProvider(
    manager, virtualFile, physical, 
    AspLanguage.INSTANCE,  // template language
    HTMLLanguage.INSTANCE   // data language
)
```

### –ü–æ–¥—Ö–æ–¥ 2: –ú–∞–ø–ø–∏–Ω–≥ –Ω–∞ HTML –Ω–∞–ø—Ä—è–º—É—é
–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å .asp —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–∞–∫ HTML —Å –∞–ª–∏–∞—Å–æ–º.

### –ü–æ–¥—Ö–æ–¥ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å substitutor
```kotlin
<lang.substitutor language="ASP" 
                  implementationClass="HtmlToAspLanguageSubstitutor"/>
```

## üéØ –¢–µ–∫—É—â–∞—è —Ü–µ–ª—å

**–°–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã ASP —Ñ–∞–π–ª—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å IDE –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–∞–∫ HTML —Ñ–∞–π–ª—ã.**

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç:
- ‚úÖ –í—Å—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ = HTML
- ‚úÖ –ü–æ–ª–Ω–∞—è HTML —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚ùå –ü–æ–∫–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º VBScript –±–ª–æ–∫–∏ `<% %>`

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

–ü–ª–∞–≥–∏–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –µ—Å–ª–∏:
1. ‚úÖ .asp —Ñ–∞–π–ª –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å –∏–∫–æ–Ω–∫–æ–π ASP
2. ‚úÖ HTML —Ç–µ–≥–∏ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—é—Ç—Å—è
3. ‚úÖ –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ HTML —Ä–∞–±–æ—Ç–∞–µ—Ç
4. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è HTML —Ä–∞–±–æ—Ç–∞–µ—Ç
5. ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ç–µ–≥–∞–º —Ä–∞–±–æ—Ç–∞–µ—Ç

---

**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-11-15
**–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

